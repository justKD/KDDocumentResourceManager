class KDDocumentResourceManager{constructor(e,s){const t={scripts:"object"==typeof e.scripts?e.scripts:null,stylesheets:"object"==typeof e.stylesheets?e.stylesheets:null,styles:"object"==typeof e.styles?e.styles:null,callback:s},c={scripts:{ready:!1,readyStates:{}},css:{ready:!1,readyStates:{}}};let a=0;const r=e=>{const s={isReady:e=>{let s=0;return Object.values(c.scripts.readyStates).forEach(t=>t?e:s++),0==s},addScript:(e,t)=>{const a=document.createElement("script");a.id=t,a.src=e,a.onload=(e=>{c.scripts.readyStates[t]=!0,s.isReady()&&(c.scripts.ready=!0)}),document.body.appendChild(a)}};Object.keys(e).forEach(e=>c.scripts.readyStates[e]=!1),Object.keys(e).forEach(c=>{document.getElementById(c)||s.addScript(e[c],c),t.scripts[c]||(t.scripts[c]=e[c])})},d=e=>{const s={isReady:e=>{let s=0;return Object.values(c.css.readyStates).forEach(t=>t?e:s++),0==s},addLink:(e,t)=>{const a=document.createElement("link");a.id=t,a.rel="stylesheet",a.href=e,a.onload=(e=>{c.css.readyStates[t]=!0,s.isReady()&&(c.css.ready=!0)}),document.head.appendChild(a)}};Object.keys(e).forEach(e=>c.css.readyStates[e]=!1),Object.keys(e).forEach(c=>{document.getElementById(c)||s.addLink(e[c],c),t.stylesheets[c]||(t.stylesheets[c]=e[c])})},l=e=>{const s={classes:e.classes?e.classes:null,ids:e.ids?e.ids:null,cssStrings:{},css:"",createStyleString:e=>{let s=" {";return Object.keys(e).forEach(t=>s+=t+": "+e[t]+";"),s+="}"},addStyles:e=>{const t=document.createElement("style");e&&(t.id=e),t.appendChild(document.createTextNode(s.css)),document.head.appendChild(t)}};s.classes&&Object.keys(s.classes).forEach(e=>s.cssStrings[e]=" ."+e+s.createStyleString(s.classes[e])),s.ids&&Object.keys(s.ids).forEach(e=>s.cssStrings[e]=" #"+e+s.createStyleString(s.ids[e])),Object.values(s.cssStrings).forEach(e=>s.css+=e),e.tagIdentifier&&!document.getElementById(e.tagIdentifier)?s.addStyles(e.tagIdentifier):s.addStyles()},n=e=>{t.callback=e,y.readyCheckAndCallback()},y={readyCheckAndCallback:e=>{c.scripts.ready&&c.css.ready?t.callback&&t.callback():setTimeout(e=>{a<100?(a++,y.readyCheckAndCallback()):console.log("Error loading external resources.")},100)},generateAPI:e=>Object.keys(i).forEach(e=>this[e]=i[e])},i={addExternalScripts:e=>r(e),addExternalCSS:e=>d(e),addLocalStyles:e=>l(e),params:e=>t,state:e=>c,onReady:e=>n(e)};e.styles&&l(e.styles),e.scripts?r(e.scripts):c.scripts.ready=!0,e.stylesheets?d(e.stylesheets):c.css.ready=!0,y.generateAPI(),y.readyCheckAndCallback()}}